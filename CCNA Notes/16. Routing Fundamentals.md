# Connected and Local Routes

## Router Functions

A Router has 2 main functions:
  - Determining the best path to available networks
  - Forwarding traffic to those network

### The Routing Table

The best available path or paths to a destination network are listed in a router's routing table and will be used for forwarding traffic. A routing table consists of directly connected networks and routes configured statically by the administrator or dynamically learned through a routing protocol.

To view the routing table use the command _show ip route_

### Connected and Local Routes

When the administrator configures IP addresses on the router's interfaces it will automatically enter connected routes into the routing table

<img width="481" height="202" alt="image" src="https://github.com/user-attachments/assets/8f33c041-e65d-4d0e-bed6-6af6e0d862d8" />

<img width="1012" height="140" alt="image" src="https://github.com/user-attachments/assets/c11fdd67-f680-418e-b9da-08af1783000b" />

**Connected Routes**

Because we configured those IP addresses on those interfaces the router already knows that it is connected to those networks.

In the photos above the router already knows to reach the 10.0.0.0/24 network by sending out information to interface F0/0 because of how we manually configured it.

**Local Routes**

Local routes always have a /32 mask and show the IP address configured on the interface

So instead of showing the network, like on connected routes, it will instead show the IP address of the interface. This helps with administrating the router.

# Static Routes

If a router receives traffic for a network which it is not directly attached to, it needs to know how to get there in order to forward the traffic. An administrator can manually add a static route to the destiantion, or the router can learn it dynamically via a routing protocol.

The command to add a static route is _Ip Route_

The syntax is _Ip Route (IP subnet you want to reach) (subnet mask) (The Next Hop IP Address you need to send the packet out of)_

 - IP Route 10.1.0.0 255.255.255.0 10.0.0.2
<img width="743" height="174" alt="image" src="https://github.com/user-attachments/assets/821e3563-41d4-4a74-b7bf-9637141efe07" />

IF you are assigning routes statically you must assign all routers to reach those subnets with _IP Route_


# Summarization 

## Summary Routes

When applying static routing, you can use summary routes to lessen administrative overhead and memory usage on the routers, the less that is in the routing the table the less memory usage happens.
Summary works by having one route under specific subnet mask.

For Example:
<img width="1051" height="282" alt="image" src="https://github.com/user-attachments/assets/acc1495a-0cab-44ce-b92e-cbc2c6f6749d" />

We can cover all of these routes with a summary route. If we use the command _ip route_, on R1, with an ip range of 10.1.0.0 with the subnet of 255.255.0.0. So now we cover all of our bases to different subnets under the 10.1.x.x scope.
Of course for this example the range will be from 10.1.0.0 - 10.1.255.255. This is a bit unrealistic but we can adjust the subnet mask to cater to our subnet sizing.

# Longest Prefix Match

When there are overlapping routes, the longest prefix will be selected.

What is the longest prefix? The longest prefix is the longest subnet mask.

<img width="835" height="374" alt="image" src="https://github.com/user-attachments/assets/4b9de917-bb4c-4914-b106-ff841558ec6d" />

In this example we have two ways to get to the 10.1.3.0 network from R1. That is either going along the top side through all the other routers, or going directly through R5.
Since the ip route on the second line has the longer prefix of 255.255.255.0 the static route will take that route instead.

# Load Balancing

When multiple equal length routes are added for the same destination, the router will add them all to the routing table and load balance between them.

# Default Gateway (Gateway of Last Resort)

A gateway of last resort is the router that a device sends any network traffic to when there isn't a more specific route in the routing table for that destination. It functions as a catch-all. "If you don'y know where to send this, send it here".
You can configure this on the router with _ip default-gateway_ or with a static route of _ip route 0.0.0.0 0.0.0.0_





