# DHCP
- Dynamic Host Configuration Protocol
- DHCP is a client/server protocol that automatically provides a host with its IP address and other related configuration information such as the subnet mask and default gateway
- DHCP cleints obtain their IP configuration information from a DHCP server, rather than being manually configured
- DHCP provides a centralized and automated IP configuration, rather than manually assigning IP addresses to every host
- Can assign additional IP configuration values
- Efficient handling of clients that must be updated frequently, such as laptops that move to different locations on a wireless network
- Servers and network infrastructure devices such as routers and switches will not typically be DHCP clients. This is because they are mission critical devices which do not move and are required for the network and its services to function.

# Cisco DHCP Server

## Option 1: DHCP Server Configuration

Our first option for creating a DHCP server is using a Cisco router as the server. This should be for a small network.

<img width="1227" height="676" alt="image" src="https://github.com/user-attachments/assets/02312270-ad4c-41fd-b2c3-610da6dde2bb" />

### DHCP Exlusions

First we are goiung to specify with IP addresses we need to exclude from our network. So hosts we want a fixed IP address.

In our example here we are going to exclude IP address range from 10.10.10.1 - 10.10.10.10
 - (config)#_ip dhcp exlcuded-address 10.10.10.1 10.10.10.10_

Then we configure our DHCP pool. Anything after the DHCP Pool will be the name of the pool. Doing this command will take us to our DHCP configuration.
 - (config)#_ip dhcp pool 10.10.10.0_clients_

Next we will specify the IP range of addresses that we're going to be giving out in the DHCP configuration.
 - (dhcp-config)#_network 10.10.10.0 255.255.255.0_

Then we configure the default gateway and DNS server
 - (dhcp-config)#_defalt-router 10.10.10.1_
 - (dhcp-config)#_dns-server 10.10.20.10_

Then we can also set up a lease time. The default for Cisco routers is 24 hours.
 - (dhcp-config)#_Lease 10_ the number represents a number of days

For verification
 - R1#_show ip dhcp pool_

# External DHCP Server

## Option 2: External DHCP Server Configuration
In larger offices where we've got several subnets, we will typically have an external DHCP server.

First thing we need to do is configure our Routers to forward DHCP request. This will turn our router into a DHCP relay. Enter the interface you are receiving traffic, then relay it over to the DHCP server's IP address.
 - (config)#_interface f0/1_
 - (config-if)#_ip helper-address 10.10.20.10_

# Cisco DHCP Client
Typically Cisco routers are manually configured with static IP addresses, an exception to this is where an office is connected to the internet but has not bought static public IP address. The office still requires a public IP address to allow internal hosts outbound connectivity to the internet through NAT. In this case the router will receive the public IP address on its outside interface from the internet service provider via DHCP.

To configure this, you must do it on the outside interface of your router.
 - (config)#_interface f0/0_
 - (config-if)#_ip address dhcp_
 - (config-if)#_no shutdown_
Then to verify the configuration
 - R1#_show dhcp lease_
